{% extends 'layout.html' %}

{% block title %}
    <title>modifier une collecte</title>
{% endblock %}

{% block body %}
    <h1 class="titre">MODIFIER UNE COLLECTE</h1>
    <hr class="barre">
    {% if error %}
        <p><strong>Error:</strong> {{ error }}
    {% endif %}

    <div>
        <div>
            <form method="post" action="/collecte/edit" >
                <fieldset class="formulaire">

                    <input type="number" id="id" name="id" value="{{collecte.id}}" hidden>

                    <div class="label">
                        <label for="quantite">Quantité collectée (kg)</label>
                        <input type="number" id="quantite" name="quantite" value="{{ collecte.quantite }}" required/>
                    </div>

                    <div class="label">
                        <label for="type">Type de déchet</label>
                        <select name="type" id="type" required>
                            {% for j in typeDechet %}
                                <option value="{{ j.id }}"
                                        {% if typeDechet is defined and j.id ==  collecte.type %}selected{% endif %}
                                > {{ j.libelle }} </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="label">
                        <label for="centre">Centre de collecte</label>
                        <select name="centre" id="centre" required>
                            {% for i in centreCollect %}
                                <option value="{{ i.id }}"
                                        {% if centreCollect is defined and i.id ==  collecte.centre %}selected{% endif %}
                                >{{ i.lieu }} </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="label">
                        <label for="tournee">Tournee</label>
                        <select name="tournee" id="tournee" required>
                            {% for k in tournee %}
                                <option value="{{ k.id }}"
                                        {% if tournee is defined and k.id ==  collecte.tournee %}selected{% endif %}
                                > {{ k.date }} </option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="label">
                        <a class="annuler" href="/collecte/show">Annuler</a>
                        <button class="valider" type="submit" value="Éditer" name="Éditer">Éditer</button>
                    </div>

                </fieldset>
            </form>
        </div>
    </div>
{% endblock %}